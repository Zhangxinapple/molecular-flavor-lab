# 📦 分子风味配对实验室 - 项目交接文档

> **创建日期**: 2026-02-14  
> **版本**: MVP v1.0  
> **状态**: 核心功能已完成，待部署到 Github

---

## 📋 执行摘要

**项目名称**: 分子风味配对实验室 (Molecular Flavor Lab)  
**项目定位**: 基于分子风味数据的食材配对灵感引擎  
**核心功能**: 通过科学算法推荐食材搭配（Consonance/Contrast 双模式）  
**当前状态**: ✅ MVP 完成，本地可运行，待云端部署

---

## 📊 项目进度总览

### 已完成 ✅

| 模块 | 完成度 | 说明 |
|------|--------|------|
| 数据分析 | 100% | 解析 501 食材 × 590 风味标签 |
| 市场调研 | 100% | 国内外竞品分析，定位 C 端市场 |
| 核心算法 | 100% | Consonance + Contrast 双模式配对 |
| 翻译系统 | 100% | 161 个风味标签中英文映射 |
| UI/UX 设计 | 100% | 深色科技风，响应式布局 |
| Web 原型 | 100% | Streamlit 完整交互应用 |
| 文档编写 | 100% | 评分系统、快速开始、宣传文案 |
| 本地部署 | 100% | 可本地运行 `streamlit run app.py` |

### 待完成 ⏳

| 模块 | 优先级 | 说明 |
|------|--------|------|
| Github 部署 | 🔴 高 | 推送到个人仓库 |
| Streamlit Cloud | 🔴 高 | 免费云端部署 |
| AI 菜谱生成 | 🟡 中 | 接入 LLM API |
| 可视化图谱 | 🟡 中 | 食材关系网络图 |
| 用户系统 | 🟢 低 | 收藏、历史记录 |
| 小程序版本 | 🟢 低 | 微信/支付宝小程序 |

---

## 🔬 技术实现详情

### 技术栈

```
后端: Python 3.9+ + Pandas + NumPy
前端: Streamlit 1.28+
数据: CSV (FlavorDB)
部署: Streamlit Cloud (推荐) / 自有服务器
```

### 核心算法

#### 1. Consonance 评分（同味型叠加）

```python
score = jaccard_similarity × 100 + common_count × 0.5

jaccard = |A ∩ B| / |A ∪ B|
```

**示例**: Strawberry vs Apple
- 共同风味: 224 个
- Jaccard: 0.638
- 评分: 63.8 + 112 = **175.8**

#### 2. Contrast 评分（对比味型）

```python
score = contrast_score + category_bonus + intersection_bonus

contrast_score: 互补风味匹配数 × 2
category_bonus: 跨类别 +10, 优先类别 +15
intersection_bonus: 适度交集(3-15) +8
```

**示例**: Strawberry vs Gruyere Cheese
- 对比分: 8 (4对互补风味)
- 类别分: 25 (跨类别+优先类别)
- 交集分: 8 (8个共同风味)
- 总评分: **41**

### 数据结构

```python
# 食材数据结构
{
    'id': 1,
    'name': 'Strawberry',
    'category': 'Fruit',
    'flavors': ['sweet', 'fruity', 'fresh', ...],  # 280个标签
    'flavor_set': {'sweet', 'fruity', ...}  # 集合用于快速交集
}

# 倒排索引
flavor_index = {
    'sweet': [apple, banana, strawberry, ...],
    'fruity': [apple, mango, strawberry, ...],
    ...
}
```

### 性能优化

- **倒排索引**: O(n) → O(k)，k 为相关食材数
- **集合运算**: Python set 交集/并集，C 级别优化
- **缓存机制**: `@st.cache_resource` 避免重复加载

---

## 📈 市场调研报告

### 1. 国际市场分析

#### 主要竞品

| 产品 | 国家 | 定位 | 数据量 | 商业模式 | 特点 |
|------|------|------|--------|----------|------|
| **Foodpairing** | 比利时 | B2B 企业级 | 3000+ | 订阅制 €300+/月 | 行业标杆，服务联合利华、雀巢 |
| **Chef iQ** | 美国 | 智能厨具+App | 未知 | 硬件+订阅 | 智能厨具生态 |
| **Plant Jammer** | 丹麦 | B2B 食品企业 | 未知 | 订阅制 | 专注植物基搭配 |
| **Tastewise** | 以色列 | AI 食品洞察 | 未知 | 企业定制 | 趋势预测 |

#### 市场规模

- **分子料理市场**: 2024 年 140.6 亿美元 → 2031 年 384.5 亿美元 (CAGR 15.4%)
- **食品科技投资**: 2024 年 H1 约 50 亿美元
- **增长驱动**: 消费者实验意愿 + 社交媒体影响 + 可持续饮食需求

### 2. 国内市场分析

#### 现状

- **缺乏专业工具**: 无面向消费者的分子配对应用
- **内容为主**: 多为科普文章、学术研究
- **潜在需求**: 美食爱好者、烘焙师、调酒师群体增长

#### 目标用户画像

| 用户类型 | 规模估算 | 需求 | 付费意愿 |
|----------|----------|------|----------|
| 美食爱好者 | 1000万+ | 探索新搭配 | 中等 |
| 家庭厨师 | 5000万+ | 丰富日常菜单 | 低 |
| 烘焙师 | 100万+ | 甜点创新 | 高 |
| 调酒师 | 50万+ | 鸡尾酒创作 | 高 |
| 餐厅研发 | 10万+ | 新菜品开发 | 很高 |

### 3. 竞品对比矩阵

| 维度 | Foodpairing | 分子风味配对实验室 | Chef iQ |
|------|-------------|-------------------|---------|
| **价格** | €300+/月 | **免费** | $199(硬件) |
| **定位** | B2B 企业 | **B2C 消费者** | C端硬件 |
| **开源** | ❌ 闭源 | **✅ 开源** | ❌ 闭源 |
| **数据量** | 3000+ | 501 | 未知 |
| **易用性** | 专业复杂 | **简洁直观** | 中等 |
| **中文支持** | 有限 | **完整** | 无 |
| **社区** | 企业客户 | **开发者友好** | 消费者 |

### 4. 市场机会

#### SWOT 分析

**优势 (Strengths)**
- ✅ 免费开源，降低使用门槛
- ✅ 中文支持，本土化优势
- ✅ 简洁 UI，消费者友好
- ✅ 科学算法，有据可依

**劣势 (Weaknesses)**
- ⚠️ 数据量较小 (501 vs 3000+)
- ⚠️ 品牌知名度低
- ⚠️ 缺乏用户基础

**机会 (Opportunities)**
- 🚀 C 端市场空白
- 🚀 科学烹饪趋势上升
- 🚀 美食博主/KOL 合作
- 🚀 小程序生态流量

**威胁 (Threats)**
- ⚡ Foodpairing 可能推出免费版
- ⚡ 大厂进入 (如美团、下厨房)
- ⚡ 数据获取难度

---

## 💰 商业化调研

### 1. 商业模式选项

#### 方案 A: 免费增值 (Freemium) - 推荐

| 层级 | 功能 | 价格 |
|------|------|------|
| **免费版** | 基础配对、5次/天 | ¥0 |
| **专业版** | 无限次、AI菜谱、收藏 | ¥19/月 |
| **大师版** | API访问、定制数据 | ¥99/月 |

**优点**: 快速获取用户，口碑传播  
**缺点**: 转化率依赖产品价值

#### 方案 B: 企业授权

| 客户类型 | 授权费 | 定制费 |
|----------|--------|--------|
| 餐厅连锁 | ¥5万/年 | ¥2-5万 |
| 食品厂商 | ¥10万/年 | ¥5-10万 |
| 厨具品牌 | ¥3万/年 | ¥1-3万 |

**优点**: 客单价高，B端稳定  
**缺点**: 销售周期长，需要BD团队

#### 方案 C: 内容电商

- 推荐搭配 → 跳转购买食材 (佣金 5-15%)
- 合作平台: 京东、天猫、盒马

**优点**: 与使用场景结合  
**缺点**: 转化率低，依赖供应链

### 2. 收入预测（3年）

假设采用 **免费增值模式**:

| 年份 | 用户数 | 付费率 | 付费用户 | ARPU | 年收入 |
|------|--------|--------|----------|------|--------|
| 第1年 | 10万 | 2% | 2,000 | ¥200 | ¥40万 |
| 第2年 | 50万 | 3% | 15,000 | ¥200 | ¥300万 |
| 第3年 | 150万 | 4% | 60,000 | ¥200 | ¥1200万 |

### 3. 成本估算

| 项目 | 月成本 | 说明 |
|------|--------|------|
| 服务器 | ¥500 | Streamlit Cloud Pro |
| LLM API | ¥1000 | 菜谱生成 |
| 数据更新 | ¥2000 | 人工标注 |
| 运营推广 | ¥5000 | 社交媒体 |
| **总计** | **¥8500/月** | **¥10万/年** |

### 4. 盈利平衡点

- **固定成本**: ¥10万/年
- **盈亏平衡**: 约 500 个付费用户 (¥200/年)
- **目标**: 第1年达到 2000 付费用户

### 5. 差异化竞争策略

#### 短期 (0-6个月)

1. **免费获取用户** - 零门槛使用
2. **内容营销** - 小红书/抖音科普视频
3. **KOL 合作** - 美食博主试用推荐

#### 中期 (6-12个月)

1. **社区运营** - 用户分享搭配
2. **数据驱动** - 热门搭配排行榜
3. **API 开放** - 开发者生态

#### 长期 (1-2年)

1. **企业版** - 餐厅、食品厂商
2. **国际化** - 英文、日文版
3. **硬件结合** - 智能厨具集成

---

## 📁 项目文件清单

```
molecular-flavor-lab/
│
├── 📄 核心代码
│   ├── app.py                 # Streamlit 主应用 (33KB)
│   ├── flavordb_data.csv      # 数据集 (1.7MB)
│   └── requirements.txt       # 依赖列表
│
├── 📄 文档
│   ├── README.md              # 项目说明
│   ├── PROJECT_SUMMARY.md     # 项目总结
│   ├── PROJECT_HANDOVER.md    # 本文件
│   ├── SCORING_SYSTEM.md      # 评分系统详解
│   ├── QUICKSTART.md          # 快速开始指南
│   └── PROMO.md               # 宣传文案
│
└── 📄 其他
    └── index.html             # 官网首页
```

---

## 🚀 后续任务清单

### 立即执行（本周）

- [ ] **创建 Github 仓库**
  - 注册/登录 github.com
  - 创建新仓库 `molecular-flavor-lab`
  - 上传所有项目文件

- [ ] **部署到 Streamlit Cloud**
  - 访问 streamlit.io/cloud
  - 用 Github 账号登录
  - 一键部署应用

- [ ] **测试在线版本**
  - 验证搜索功能
  - 验证配对算法
  - 验证 UI 显示

### 短期优化（1-2周）

- [ ] **AI 菜谱生成**
  - 接入 OpenAI/Claude API
  - 根据配对结果生成菜谱
  - 添加烹饪建议

- [ ] **性能优化**
  - 大数据量下的响应速度
  - 添加加载动画
  - 错误处理

- [ ] **UI 微调**
  - 根据反馈调整布局
  - 添加更多交互反馈
  - 移动端适配优化

### 中期规划（1-2月）

- [ ] **用户系统**
  - 收藏功能
  - 历史记录
  - 个人偏好

- [ ] **可视化图谱**
  - 食材关系网络图
  - 风味相似度热力图
  - 交互式探索

- [ ] **内容运营**
  - 撰写科普文章
  - 制作演示视频
  - 社交媒体推广

### 长期愿景（3-6月）

- [ ] **小程序版本**
  - 微信小程序开发
  - 支付宝小程序
  - 抖音小程序

- [ ] **企业版**
  - API 接口
  - 批量查询
  - 定制服务

- [ ] **国际化**
  - 英文版
  - 日文版
  - 多语言支持

---

## 💡 关键决策点

### 1. 部署平台选择

| 平台 | 成本 | 难度 | 推荐度 |
|------|------|------|--------|
| **Streamlit Cloud** | 免费 | ⭐ 简单 | ⭐⭐⭐⭐⭐ |
| Vercel + FastAPI | 免费 | ⭐⭐⭐ 中等 | ⭐⭐⭐ |
| 阿里云/腾讯云 | ¥100+/月 | ⭐⭐⭐⭐ 复杂 | ⭐⭐ |

**建议**: 先用 Streamlit Cloud 免费版验证，用户增长后再考虑其他方案。

### 2. AI 接入方案

| 方案 | 成本 | 质量 | 推荐度 |
|------|------|------|--------|
| **OpenAI GPT-4o** | $0.01/次 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| Claude 3.5 | $0.008/次 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| 国产大模型 | ¥0.05/次 | ⭐⭐⭐⭐ | ⭐⭐⭐ |
| 本地部署 | 硬件成本 | ⭐⭐⭐ | ⭐⭐ |

**建议**: 先用国产大模型 (通义千问/文心一言) 降低成本，验证后再升级。

### 3. 数据扩展

| 数据源 | 数据量 | 获取难度 | 优先级 |
|--------|--------|----------|--------|
| FlavorDB 完整版 | 3000+ | ⭐⭐⭐ 中等 | 🔴 高 |
| 自建数据库 | 无限 | ⭐⭐⭐⭐⭐ 很难 | 🟡 中 |
| 用户贡献 | 无限 | ⭐⭐ 简单 | 🟢 低 |

**建议**: 联系 FlavorDB 获取完整数据授权。

---

## 📞 联系方式与资源

### 参考资源

- **FlavorDB**: https://cosylab.iiitd.edu.in/flavordb/
- **Foodpairing**: https://www.foodpairing.com/
- **Streamlit 文档**: https://docs.streamlit.io/

### 推荐工具

- **代码编辑**: VS Code + Python 插件
- **API 测试**: Postman / curl
- **数据查看**: Pandas + Jupyter

---

## ✅ 交接确认

| 检查项 | 状态 |
|--------|------|
| 所有代码文件已整理 | ✅ |
| 文档完整可读 | ✅ |
| 本地运行测试通过 | ✅ |
| 市场调研报告完成 | ✅ |
| 商业化方案梳理 | ✅ |
| 后续任务清单明确 | ✅ |

---

<p align="center">
🧪 分子风味配对实验室 | Molecular Flavor Lab<br>
<sub>让科学指导烹饪，让搭配有据可依</sub><br>
<sub>项目交接完成 | 2026-02-14</sub>
</p>
